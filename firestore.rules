service cloud.firestore {
  match /databases/{database}/documents {
    
    // Permitir leitura pública para a coleção "versions"
    match /versions/{versionId} {
      allow read: if true;  // Qualquer pessoa pode ler os dados dessa coleção
      allow write: if request.auth != null;  // Apenas usuários autenticados podem escrever
    }

    // Proteger todas as outras coleções (requer autenticação)
    match /{document=**} {
      allow read, write: if request.auth != null;  // Somente usuários autenticados podem ler e escrever
    }
  }
}
